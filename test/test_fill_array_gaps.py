import pytest
from pyvideosync.fixanomaly import fill_array_gaps


@pytest.mark.parametrize(
    "input_array, expected_output",
    [
        (
            [2844396, 2844399, 2844401],
            [2844396, 2844397, 2844398, 2844399, 2844400, 2844401],
        ),
        (
            [2844411, 0, 2844418, 2844420],
            [
                2844411,
                2844412,
                2844413,
                2844414,
                2844415,
                2844416,
                2844417,
                2844418,
                2844419,
                2844420,
            ],
        ),
        ([0, 0, 2844422, 2844424], [2844422, 2844423, 2844424]),
        ([1, 2, 3], [1, 2, 3]),
        ([0, 0, 0], []),
        ([10, 0, 0, 15], [10, 11, 12, 13, 14, 15]),
        ([5], [5]),
        ([0, 5], [5]),
        ([-1, -1, -1, 4, 5, 6, 7, 0, 12], [4, 5, 6, 7, 8, 9, 10, 11, 12]),
        ([-1, 0, -1, 0], []),
        ([127, 0, 20405, 20406, 20407], [20403, 20404, 20405, 20406, 20407]),
    ],
)
def test_fill_array_gaps(input_array, expected_output):
    assert fill_array_gaps(input_array) == expected_output
